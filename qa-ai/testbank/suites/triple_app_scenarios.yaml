test_suite:
  name: "Triple App Installation Scenarios"
  description: "Test cases for three apps running together with complex sync scenarios"
  priority: "CRITICAL"
  tags: ["triple_app", "sync", "complex_integration", "regression"]
  app_scenarios: ["triple_shareconnector_transmission_utorrent"]

  test_cases:
    - id: "TC_TRIPLE_APPS_001"
      name: "ShareConnector + Transmission + uTorrent - Complex Sync"
      description: "Test complex sync scenarios with three apps and multiple torrent clients"
      app_scenario: "triple_shareconnector_transmission_utorrent"
      steps:
        - "Launch all three apps and complete onboarding"
        - "Create profiles in ShareConnector (MeTube, YT-DLP, JDownloader)"
        - "Create Transmission profile in TransmissionConnector"
        - "Create uTorrent profile in uTorrentConnector"
        - "Verify Asinka sync initializes between all apps"
        - "Test theme sync across all apps"
        - "Test profile sync across all apps"
        - "Test language sync across all apps"
        - "Share torrent URL to ShareConnector"
        - "Verify system app chooser shows both torrent connectors"
        - "Select TransmissionConnector and verify torrent processing"
        - "Share another torrent URL and select uTorrentConnector"
        - "Monitor both torrent clients simultaneously"
        - "Test cross-app data consistency"
        - "Verify no interference between torrent clients"
        - "Test background sync with multiple apps"
        - "Verify sync conflict resolution with three apps"
        - "Test app restart sequence and sync recovery"
      expected_results:
        - "All three apps onboard successfully"
        - "Sync works across all app combinations"
        - "System app chooser shows correct options"
        - "Both torrent clients work independently"
        - "No data corruption or conflicts"
        - "Background sync maintains consistency"
        - "App restart syncs all pending changes"

    - id: "TC_TRIPLE_APPS_002"
      name: "ShareConnector + Transmission + uTorrent - Resource Management"
      description: "Test resource usage and performance with three apps running"
      app_scenario: "triple_shareconnector_transmission_utorrent"
      steps:
        - "Set up all profiles and sync"
        - "Monitor memory usage across all apps"
        - "Monitor CPU usage during sync operations"
        - "Monitor network usage during downloads"
        - "Monitor battery drain patterns"
        - "Test with multiple simultaneous downloads"
        - "Verify apps handle low memory conditions"
        - "Test performance during background sync"
        - "Verify no memory leaks over time"
        - "Test app behavior under network congestion"
        - "Verify proper cleanup on app termination"
        - "Test resource usage during doze mode"
      expected_results:
        - "Memory usage stays within reasonable bounds"
        - "CPU usage doesn't spike excessively"
        - "Network usage is efficient"
        - "Battery drain is acceptable"
        - "Apps handle resource constraints gracefully"
        - "No memory leaks detected"
        - "Performance remains stable"

    - id: "TC_TRIPLE_APPS_003"
      name: "ShareConnector + Transmission + uTorrent - Error Recovery"
      description: "Test error handling and recovery with three apps"
      app_scenario: "triple_shareconnector_transmission_utorrent"
      steps:
        - "Set up all profiles and sync"
        - "Simulate network disconnection during sync"
        - "Verify sync resumes when network recovers"
        - "Simulate mock service crashes"
        - "Verify apps handle service unavailability"
        - "Test with invalid profile credentials"
        - "Verify proper error messages and recovery"
        - "Simulate app force stops during sync"
        - "Verify data integrity after crashes"
        - "Test corrupted sync data recovery"
        - "Verify apps recover from database corruption"
        - "Test with insufficient storage space"
      expected_results:
        - "Network recovery triggers sync resumption"
        - "Service failures are handled gracefully"
        - "Invalid credentials show proper errors"
        - "Force stops don't corrupt data"
        - "Database corruption is recovered"
        - "Storage issues are handled properly"
        - "All error states are recoverable"

  prerequisites:
    - "Clean emulator environment"
    - "Mock services running (all)"
    - "All three apps installed"
    - "No other ShareConnect apps installed"

  cleanup:
    - "Clear all app data"
    - "Remove all profiles"
    - "Reset mock service states"
    - "Clear download history"
    - "Reset sync data"
    - "Clear performance logs"